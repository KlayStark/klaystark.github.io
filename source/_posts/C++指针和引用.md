---
title: C++指针和引用
date: 2021-06-28 19:20:18
categories: C++
tags:
---
## 名词解释

**指针**：指针是一个变量，其值为另一个变量的地址。

**引用**：引用变量是一个别名，也就是说，它是某个已存在变量的另一个名字。假如变量名称是变量附属在内存位置中的标签，可以把引用当成是变量附属在内存位置中的第二个标签。

“&” 符号的意思是取地址，也就是返回一个对象在内存中的地址。

“*” 符号的意思是取得一个指针所指向的对象。 也就是如果一个指针保存着一个内存地址，那么它就返回在那个地址的对象。

简单点就是：&：取址。* ：取值。

---

## 指针和引用的区别

1. 引用必须在创建时被初始化并且不能再被指向另一个对象，指针可以在任何时间被初始化；

2. 指针可以初始化为nullptr，而引用必须被初始化为一个已有对象的引用；

3. 指针可以是多级指针，引用只能是一级；

## 函数传参

* **值传递**：形参是实参的拷贝，改变形参的值并不会影响外部实参的值。从被调用函数的角度来说，值传递是单向的（实参->形参），参数的值只能传入，不能传出。当函数内部需要修改参数，并且不希望这个改变影响调用者时，采用值传递。

* **指针传递**：形参为指向实参地址的指针，当对形参的指向操作时，就相当于对实参本身进行的操作。

* **引用传递**：形参是引用变量，和实参是一个变量，被调函数对形参做的任何操作都影响了主调函数中的实参变量。

以下通过使用引用传递，实现了真正的交换：
```c++
#include <iostream>

void swap(int& a, int& b)
{
	int temp = a;
	a = b;
	b = temp;
}

int main()
{
	int a = 10, b = 20;
	std::cout << a << std::endl;
	std::cout << b << std::endl;
	swap(a, b);
	std::cout << a << std::endl;
	std::cout << b << std::endl;
}
```

---
指针传递：
```c++
#include<iostream>

using namespace std;

int get(int* p)
{
    *p = 5;
    return *p;
}

int main()
{
    int a = 1;
    cout << a << endl;
    get(&a);
    cout << a << endl;
    return 0;
}
```